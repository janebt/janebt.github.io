<!DOCTYPE html>
<html style="display: none;" lang="zh">
    <head>
    <meta charset="utf-8">
    <!--
        Â© Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.0 -->
    <script>
        window.materialVersion = "1.5.0"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">














    <!-- Title -->
    
    <title>
        
            Ajax | 
        
        Jane&#39;s blog
    </title>

    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="theme-color" content="#0097A7">
    <meta name="author" content="jane">
    <meta name="description" itemprop="description" content="æœ¬æ–‡ä»‹ç»AjaxçŸ¥è¯†ä½“ç³»ã€‚
å‚è€ƒä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« ã€ŠAjaxçŸ¥è¯†ä½“ç³»å¤§æ¢³ç†ã€‹ï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œæˆ‘å°±åšä¸€ç‚¹å…³æ³¨ç‚¹æ€»ç»“ã€‚">
    <meta name="keywords" content="jane, blog, hexo, Web, åšå®¢,JavaScript">

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(key){try{localStorage.removeItem(key)}catch(e){}};lsloader.setLS=function(key,val){try{localStorage.setItem(key,val)}catch(e){}};lsloader.getLS=function(key){var val="";try{val=localStorage.getItem(key)}catch(e){val=""}return val};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var keys=[];for(var i=0;i<localStorage.length;i++){keys.push(localStorage.key(i))}keys.forEach(function(key){var data=lsloader.getLS(key);if(window.oldVersion){var remove=window.oldVersion.reduce(function(p,c){return p||data.indexOf("/*"+c+"*/")!==-1},false);if(remove){lsloader.removeLS(key)}}})}catch(e){}};lsloader.clean();lsloader.load=function(jsname,jspath,cssonload,isJs){if(typeof cssonload==="boolean"){isJs=cssonload;cssonload=undefined}isJs=isJs||false;cssonload=cssonload||function(){};var code;code=this.getLS(jsname);if(code&&code.indexOf(versionString)===-1){this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}if(code){var versionNumber=code.split(versionString)[0];if(versionNumber!=jspath){console.log("reload:"+jspath);this.removeLS(jsname);this.requestResource(jsname,jspath,cssonload,isJs);return}code=code.split(versionString)[1];if(isJs){this.jsRunSequence.push({name:jsname,code:code});this.runjs(jspath,jsname,code)}else{document.getElementById(jsname).appendChild(document.createTextNode(code));cssonload()}}else{this.requestResource(jsname,jspath,cssonload,isJs)}};lsloader.requestResource=function(name,path,cssonload,isJs){var that=this;if(isJs){this.iojs(path,name,function(path,name,code){that.setLS(name,path+versionString+code);that.runjs(path,name,code)})}else{this.iocss(path,name,function(code){document.getElementById(name).appendChild(document.createTextNode(code));that.setLS(name,path+versionString+code)},cssonload)}};lsloader.iojs=function(path,jsname,callback){var that=this;that.jsRunSequence.push({name:jsname,code:""});try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(path,jsname,xhr.response);return}}that.jsfallback(path,jsname)}};xhr.send(null)}catch(e){that.jsfallback(path,jsname)}};lsloader.iocss=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.iofonts=function(path,jsname,callback,cssonload){var that=this;try{var xhr=new XMLHttpRequest;xhr.open("get",path,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){callback(xhr.response);cssonload();return}}that.cssfallback(path,jsname,cssonload)}};xhr.send(null)}catch(e){that.cssfallback(path,jsname,cssonload)}};lsloader.runjs=function(path,name,code){if(!!name&&!!code){for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code=code}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var script=document.createElement("script");script.appendChild(document.createTextNode(this.jsRunSequence[0].code));script.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(script);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var that=this;var script=document.createElement("script");script.src=this.jsRunSequence[0].path;script.type="text/javascript";this.jsRunSequence[0].status="loading";script.onload=function(){that.jsRunSequence.shift();if(that.jsRunSequence.length>0){that.runjs()}};document.body.appendChild(script)}};lsloader.tagLoad=function(path,name){this.jsRunSequence.push({name:name,code:"",path:path,status:"failed"});this.runjs()};lsloader.jsfallback=function(path,name){if(!!this.jsnamemap[name]){return}else{this.jsnamemap[name]=name}for(var k in this.jsRunSequence){if(this.jsRunSequence[k].name==name){this.jsRunSequence[k].code="";this.jsRunSequence[k].status="failed";this.jsRunSequence[k].path=path}}this.runjs()};lsloader.cssfallback=function(path,name,cssonload){if(!!this.cssnamemap[name]){return}else{this.cssnamemap[name]=1}var link=document.createElement("link");link.type="text/css";link.href=path;link.rel="stylesheet";link.onload=link.onerror=cssonload;var root=document.getElementsByTagName("script")[0];root.parentNode.insertBefore(link,root)};lsloader.runInlineScript=function(scriptId,codeId){var code=document.getElementById(codeId).innerText;this.jsRunSequence.push({name:scriptId,code:code});this.runjs()};lsloader.loadCombo=function(jslist){var updateList="";var requestingModules={};for(var k in jslist){var LS=this.getLS(jslist[k].name);if(!!LS){var version=LS.split(versionString)[0];var code=LS.split(versionString)[1]}else{var version=""}if(version==jslist[k].path){this.jsRunSequence.push({name:jslist[k].name,code:code,path:jslist[k].path})}else{this.jsRunSequence.push({name:jslist[k].name,code:null,path:jslist[k].path,status:"comboloading"});requestingModules[jslist[k].name]=true;updateList+=(updateList==""?"":";")+jslist[k].path}}var that=this;if(!!updateList){var xhr=new XMLHttpRequest;xhr.open("get",combo+updateList,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status>=200&&xhr.status<300||xhr.status==304){if(xhr.response!=""){that.runCombo(xhr.response,requestingModules);return}}else{for(var i in that.jsRunSequence){if(requestingModules[that.jsRunSequence[i].name]){that.jsRunSequence[i].status="failed"}}that.runjs()}}};xhr.send(null)}this.runjs()};lsloader.runCombo=function(comboCode,requestingModules){comboCode=comboCode.split("/*combojs*/");comboCode.shift();for(var k in this.jsRunSequence){if(!!requestingModules[this.jsRunSequence[k].name]&&!!comboCode[0]){this.jsRunSequence[k].status="comboJS";this.jsRunSequence[k].code=comboCode[0];this.setLS(this.jsRunSequence[k].name,this.jsRunSequence[k].path+versionString+comboCode[0]);comboCode.shift()}}this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.jpeg">
    <link rel="icon" sizes="192x192" href="/img/favicon.jpeg">
    <link rel="apple-touch-icon" href="/img/favicon.jpeg">

    <!--iOS -->
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Jane&#39;s blog">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    
        
            <link rel=alternate type="application/atom+xml" href="atom.xml">
        
    

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    
        
            <link rel="stylesheet" href="/css/fontawesome.min.css">
        
    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "å¾®è½¯é›…é»‘", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <style>
        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 300;
            src: local('Roboto Light'), local('Roboto-Light'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-Light.woff2') format('woff2'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-Light.woff') format('woff');
        }
        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 300;
            src: local('Roboto LightItalic'), local('Roboto-LightItalic'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-LightItalic.woff2') format('woff2'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-LightItalic.woff') format('woff');
          }
        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 400;
            src: local('Roboto Regular'), local('Roboto-Regular'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-Regular.woff2') format('woff2'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-Regular.woff') format('woff');
        }
        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 400;
            src: local('Roboto RegularItalic'), local('Roboto-RegularItalic'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-RegularItalic.woff2') format('woff2'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-RegularItalic.woff') format('woff');
          }
        @font-face {
            font-family: 'Roboto';
            font-style: normal;
            font-weight: 500;
            src: local('Roboto Medium'), local('Roboto-Medium'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-Medium.woff2') format('woff2'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-Medium.woff') format('woff');
        }
        @font-face {
            font-family: 'Roboto';
            font-style: italic;
            font-weight: 500;
            src: local('Roboto MediumItalic'), local('Roboto-MediumItalic'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-MediumItalic.woff2') format('woff2'), url('https://cdnjs.cat.net/ajax/libs/mdui/0.2.1/fonts/roboto/Roboto-MediumItalic.woff') format('woff');
        }
        @font-face {
            font-family: 'Material Icons';
            font-style: normal;
            font-weight: 400;
            src: local('Material Icons'),
            local('MaterialIcons-Regular'),
            url(https://cdnjs.cat.net/ajax/libs/material-design-icons/3.0.1/iconfont/MaterialIcons-Regular.woff2) format('woff2'),
            url(https://cdnjs.cat.net/ajax/libs/material-design-icons/3.0.1/iconfont/MaterialIcons-Regular.woff) format('woff'),
            url(https://cdnjs.cat.net/ajax/libs/material-design-icons/3.0.1/iconfont/MaterialIcons-Regular.ttf) format('truetype');
        }
    </style>


<!-- Import Material Icon -->





    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://janebt.github.io">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Ajax | Jane&#39;s blog">
    <meta property="og:image" content="http://janebt.github.io/img/favicon.jpeg" />
    <meta property="og:description" content="æœ¬æ–‡ä»‹ç»AjaxçŸ¥è¯†ä½“ç³»ã€‚
å‚è€ƒä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« ã€ŠAjaxçŸ¥è¯†ä½“ç³»å¤§æ¢³ç†ã€‹ï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œæˆ‘å°±åšä¸€ç‚¹å…³æ³¨ç‚¹æ€»ç»“ã€‚">
    <meta property="og:article:tag" content="JavaScript"> 

    
        <meta property="article:published_time" content="Thu Nov 30 2017 10:35:34 GMT+0800" />
        <meta property="article:modified_time" content="Thu Nov 30 2017 10:35:34 GMT+0800" />
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:title" content="Ajax | Jane&#39;s blog">
    <meta name="twitter:description" content="æœ¬æ–‡ä»‹ç»AjaxçŸ¥è¯†ä½“ç³»ã€‚
å‚è€ƒä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« ã€ŠAjaxçŸ¥è¯†ä½“ç³»å¤§æ¢³ç†ã€‹ï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œæˆ‘å°±åšä¸€ç‚¹å…³æ³¨ç‚¹æ€»ç»“ã€‚">
    <meta name="twitter:image" content="http://janebt.github.io/img/favicon.jpeg">
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="http://janebt.github.io" />

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://janebt.github.io/2017/11/30/web/Ajax/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://janebt.github.io/2017/11/30/web/Ajax/index.html",
    "headline": "Ajax",
    "datePublished": "Thu Nov 30 2017 10:35:34 GMT+0800",
    "dateModified": "Thu Nov 30 2017 10:35:34 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "jane",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.jpg"
        },
        "description": "å¿µå¿µä¸å¿˜ï¼Œå¿…æœ‰å›å“"
    },
    "publisher": {
        "@type": "Organization",
        "name": "Jane&#39;s blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.jpeg"
        }
    },
    "keywords": ",JavaScriptjane, blog, hexo, Web, åšå®¢",
    "description": "æœ¬æ–‡ä»‹ç»AjaxçŸ¥è¯†ä½“ç³»ã€‚
å‚è€ƒä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« ã€ŠAjaxçŸ¥è¯†ä½“ç³»å¤§æ¢³ç†ã€‹ï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œæˆ‘å°±åšä¸€ç‚¹å…³æ³¨ç‚¹æ€»ç»“ã€‚",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Isolation" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                
                    <!-- Isolation Header -->
                    <header class="header">
    <div class="header-wrapper">
        <!-- Header Copyright -->
        <div class="header-copyright">
            <div class="header-site">
                Â©&nbsp;
                <script type="text/javascript">
                    var fd = new Date();
                    document.write(fd.getFullYear());
                </script>
                &nbsp;Jane's blog
            </div>
            <!--
            I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright.
            It will not impact the appearance and can give developers a lot of support :)

            å¾ˆé«˜å…´æ‚¨ä½¿ç”¨è¯¥ä¸»é¢˜ï¼Œå¼€å‘ä¸æ˜“ï¼Œå¸Œæœ›æ‚¨å¯ä»¥ä¿ç•™ä¸€ä¸‹ç‰ˆæƒå£°æ˜ã€‚
            å®ƒä¸ä¼šå½±å“ç¾è§‚å¹¶å¯ä»¥ç»™å¼€å‘è€…å¾ˆå¤§çš„æ”¯æŒã€‚ :)
            -->
            <div>
                Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a>
                <br>
                Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a>
            </div>
        </div>

        <!-- Header Title -->
        <span class="header-title header-item">
            <a href="/" title="Jane&#39;s blog">
                Jane&#39;s blog
            </a>
        </span>

        <p class="header-slogan header-item">
        
            
                å¿µå¿µä¸å¿˜ï¼Œå¿…æœ‰å›å“
            
        
        </p>

        <!-- Header Nav -->
        <nav class="header-nav header-item">
            <span class="header-nav-item">
                <a href="/" title="Home">
                    <span>ä¸»é¡µ</span>
                </a>
            </span>

            <!-- Pages  -->
            
                <span class="header-nav-item">
                    <a href="/tags.html" title="æ ‡ç­¾">
                        <span>æ ‡ç­¾</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/timeline.html" title="æ—¶é—´çº¿">
                        <span>æ—¶é—´çº¿</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/gallery.html" title="æ˜ åƒ">
                        <span>æ˜ åƒ</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/links.html" title="å‹é“¾">
                        <span>å‹é“¾</span>
                    </a>
                </span>
            
                <span class="header-nav-item">
                    <a href="/about.html" title="ç®€å†">
                        <span>ç®€å†</span>
                    </a>
                </span>
            
            
        </nav>

        <!-- Header SNS -->
        <div class="header-item header-sns_list">
    <!-- Twitter -->
    
        <a href="https://twitter.com/twitter" target="_blank">
            <i class="fa fa-twitter fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/facebook" target="_blank">
            <i class="fa fa-facebook fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- Google + -->
    
        <a href="https://www.google.com/" target="_blank">
            <i class="fa fa-google-plus fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- Weibo -->
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/janebt" target="_blank">
            <i class="fa fa-github fa-lg" aria-hidden="true"></i>
        </a>
    

    <!-- LinkedIn -->
    

    <!-- Telegram -->
    
</div>

    </div>
</header>

                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    

                    <!-- Post TOC -->

    



<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                


    <!-- Isolation Post Header -->
    <!-- Post thumbnail -->
    
        <!-- Post Header Info -->
        <div class="post-header_info without-thumbnail">
            <!-- Author Avatar & Name -->
            <img src="/img/avatar.jpg" class="avatar-img" width="44px" height="44px" alt="jane's avatar">
            <span class="name-span">jane</span>
        </div>

        <!-- Null Thumbnail -->
        <div class="post_thumbnail-null">
    
        </div>



                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    

    
        <div class="post-content_wrapper">
            <p class="post-title">
                Ajax
            </p>
            <p>æœ¬æ–‡ä»‹ç»AjaxçŸ¥è¯†ä½“ç³»ã€‚</p>
<p>å‚è€ƒä¸€ç¯‡éå¸¸å¥½çš„æ–‡ç« <a href="https://segmentfault.com/a/1190000008697448" target="_blank" rel="external">ã€ŠAjaxçŸ¥è¯†ä½“ç³»å¤§æ¢³ç†ã€‹</a>ï¼Œå†…å®¹æ¯”è¾ƒå¤šï¼Œæˆ‘å°±åšä¸€ç‚¹å…³æ³¨ç‚¹æ€»ç»“ã€‚</p>
<a id="more"></a>
<h1 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h1><h2 id="å¯¼è¯»"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a>å¯¼è¯»</h2><p>Ajax å…¨ç§° Asynchronous JavaScript and XML, å³å¼‚æ­¥JSä¸XML. </p>
<h2 id="æµè§ˆå™¨ä¸ºajaxåšäº†ä»€ä¹ˆ"><a href="#æµè§ˆå™¨ä¸ºajaxåšäº†ä»€ä¹ˆ" class="headerlink" title="æµè§ˆå™¨ä¸ºajaxåšäº†ä»€ä¹ˆ"></a>æµè§ˆå™¨ä¸ºajaxåšäº†ä»€ä¹ˆ</h2><p>1.æ ‡å‡†æµè§ˆå™¨é€šè¿‡ <code>XMLHttpRequest</code> å¯¹è±¡å®ç°äº†ajaxçš„åŠŸèƒ½. åªéœ€è¦é€šè¿‡ä¸€è¡Œè¯­å¥ä¾¿å¯åˆ›å»ºä¸€ä¸ªç”¨äºå‘é€ajaxè¯·æ±‚çš„å¯¹è±¡.</p>
<pre><code class="javascript">var xhr = new XMLHttpRequest();
</code></pre>
<p>2.IEæµè§ˆå™¨é€šè¿‡ <code>XMLHttpRequest</code> æˆ–è€… <code>ActiveXObject</code> å¯¹è±¡åŒæ ·å®ç°äº†ajaxçš„åŠŸèƒ½.</p>
<h3 id="MSXML"><a href="#MSXML" class="headerlink" title="MSXML"></a>MSXML</h3><p>IE6åŠæ›´ä½ç‰ˆæœ¬æµè§ˆå™¨åªèƒ½ä½¿ç”¨ <code>ActiveXObject</code> å¯¹è±¡æ¥åˆ›å»º XMLHttpRequest å¯¹è±¡å®ä¾‹. åˆ›å»ºæ—¶éœ€è¦æŒ‡æ˜ä¸€ä¸ªç±»ä¼¼â€Microsoft.XMLHTTPâ€è¿™æ ·çš„ProgID. </p>
<p>IE5åŠä¹‹åçš„æµè§ˆå™¨å‡å¯ä»¥é€šè¿‡å¦‚ä¸‹è¯­å¥è·å–xhrå¯¹è±¡:</p>
<pre><code class="javascript">var xhr = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);// å³MSXML3
var xhr = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);// å¾ˆè€çš„api,è™½ç„¶æµè§ˆå™¨æ”¯æŒ,åŠŸèƒ½å¯èƒ½ä¸å®Œå–„,æ•…ä¸å»ºè®®ä½¿ç”¨
</code></pre>
<h3 id="å…¨å¹³å°å…¼å®¹çš„XMLHttpRequestå¯¹è±¡"><a href="#å…¨å¹³å°å…¼å®¹çš„XMLHttpRequestå¯¹è±¡" class="headerlink" title="å…¨å¹³å°å…¼å®¹çš„XMLHttpRequestå¯¹è±¡"></a>å…¨å¹³å°å…¼å®¹çš„XMLHttpRequestå¯¹è±¡</h3><pre><code class="javascript">function getXHR(){
  var xhr = null;
  if(window.XMLHttpRequest) {
    xhr = new XMLHttpRequest();
  } else if (window.ActiveXObject) {
    try {
      xhr = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);
    } catch (e) {
      try {
        xhr = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
      } catch (e) { 
        alert(&quot;æ‚¨çš„æµè§ˆå™¨æš‚ä¸æ”¯æŒAjax!&quot;);
      }
    }
  }
  return xhr;
}
</code></pre>
<h2 id="ajaxæœ‰æ²¡æœ‰ç ´åjså•çº¿ç¨‹æœºåˆ¶"><a href="#ajaxæœ‰æ²¡æœ‰ç ´åjså•çº¿ç¨‹æœºåˆ¶" class="headerlink" title="ajaxæœ‰æ²¡æœ‰ç ´åjså•çº¿ç¨‹æœºåˆ¶"></a>ajaxæœ‰æ²¡æœ‰ç ´åjså•çº¿ç¨‹æœºåˆ¶</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹, æµè§ˆå™¨æœ‰å¦‚ä¸‹å››ç§çº¿ç¨‹:</p>
<ul>
<li>GUIæ¸²æŸ“çº¿ç¨‹</li>
<li>javascriptå¼•æ“çº¿ç¨‹</li>
<li>æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹</li>
<li>HTTPè¯·æ±‚çº¿ç¨‹</li>
</ul>
<p>é€šå¸¸, å®ƒä»¬çš„çº¿ç¨‹é—´äº¤äº’ä»¥äº‹ä»¶çš„æ–¹å¼å‘ç”Ÿ, é€šè¿‡äº‹ä»¶å›è°ƒçš„æ–¹å¼äºˆä»¥é€šçŸ¥. è€Œäº‹ä»¶å›è°ƒ, åˆæ˜¯ä»¥å…ˆè¿›å…ˆå‡ºçš„æ–¹å¼æ·»åŠ åˆ°<code>ä»»åŠ¡é˜Ÿåˆ—</code> çš„æœ«å°¾ , ç­‰åˆ°jså¼•æ“ç©ºé—²æ—¶, <code>ä»»åŠ¡é˜Ÿåˆ—</code> ä¸­æ’é˜Ÿçš„ä»»åŠ¡å°†ä¼šä¾æ¬¡è¢«æ‰§è¡Œ. è¿™äº›äº‹ä»¶å›è°ƒåŒ…æ‹¬ setTimeout, setInterval, click, ajaxå¼‚æ­¥è¯·æ±‚ç­‰å›è°ƒ.</p>
<p><strong>æµè§ˆå™¨ä¸­, jså¼•æ“çº¿ç¨‹ä¼šå¾ªç¯ä» ä»»åŠ¡é˜Ÿåˆ— ä¸­è¯»å–äº‹ä»¶å¹¶ä¸”æ‰§è¡Œ, è¿™ç§è¿è¡Œæœºåˆ¶ç§°ä½œ Event Loop (äº‹ä»¶å¾ªç¯).</strong></p>
<p>å¯¹äºä¸€ä¸ªajaxè¯·æ±‚, jså¼•æ“é¦–å…ˆç”Ÿæˆ <code>XMLHttpRequest</code> å®ä¾‹å¯¹è±¡, openè¿‡åå†è°ƒç”¨sendæ–¹æ³•. è‡³æ­¤, æ‰€æœ‰çš„è¯­å¥éƒ½æ˜¯åŒæ­¥æ‰§è¡Œ. ä½†ä»sendæ–¹æ³•å†…éƒ¨å¼€å§‹, æµè§ˆå™¨ä¸ºå°†è¦å‘ç”Ÿçš„ç½‘ç»œè¯·æ±‚åˆ›å»ºäº†æ–°çš„httpè¯·æ±‚çº¿ç¨‹, è¿™ä¸ªçº¿ç¨‹ç‹¬ç«‹äºjså¼•æ“çº¿ç¨‹, äºæ˜¯ç½‘ç»œè¯·æ±‚å¼‚æ­¥è¢«å‘é€å‡ºå»äº†. å¦ä¸€æ–¹é¢, jså¼•æ“å¹¶ä¸ä¼šç­‰å¾… ajax å‘èµ·çš„httpè¯·æ±‚æ”¶åˆ°ç»“æœ, è€Œæ˜¯ç›´æ¥é¡ºåºå¾€ä¸‹æ‰§è¡Œ.</p>
<p>å½“ajaxè¯·æ±‚è¢«æœåŠ¡å™¨å“åº”å¹¶ä¸”æ”¶åˆ°responseå, æµè§ˆå™¨äº‹ä»¶è§¦å‘çº¿ç¨‹æ•è·åˆ°äº†ajaxçš„å›è°ƒäº‹ä»¶ <code>onreadystatechange</code> (å½“ç„¶ä¹Ÿå¯èƒ½è§¦å‘onload, æˆ–è€… onerrorç­‰ç­‰) . è¯¥å›è°ƒäº‹ä»¶å¹¶æ²¡æœ‰è¢«ç«‹å³æ‰§è¡Œ, è€Œæ˜¯è¢«æ·»åŠ åˆ° <code>ä»»åŠ¡é˜Ÿåˆ—</code> çš„æœ«å°¾. ç›´åˆ°jså¼•æ“ç©ºé—²äº†, <code>ä»»åŠ¡é˜Ÿåˆ—</code> çš„ä»»åŠ¡æ‰è¢«æå‡ºæ¥, æŒ‰ç…§æ·»åŠ é¡ºåº, æŒ¨ä¸ªæ‰§è¡Œ, å½“ç„¶ä¹ŸåŒ…æ‹¬åˆšåˆšappendåˆ°é˜Ÿåˆ—æœ«å°¾çš„ <code>onreadystatechange</code> äº‹ä»¶.</p>
<p>åœ¨ <code>onreadystatechange</code> äº‹ä»¶å†…éƒ¨, æœ‰å¯èƒ½å¯¹domè¿›è¡Œæ“ä½œ. æ­¤æ—¶æµè§ˆå™¨ä¾¿ä¼šæŒ‚èµ·jså¼•æ“çº¿ç¨‹, è½¬è€Œæ‰§è¡ŒGUIæ¸²æŸ“çº¿ç¨‹, è¿›è¡ŒUIé‡ç»˜(repaint)æˆ–è€…å›æµ(reflow). å½“jså¼•æ“é‡æ–°æ‰§è¡Œæ—¶, GUIæ¸²æŸ“çº¿ç¨‹åˆä¼šè¢«æŒ‚èµ·, GUIæ›´æ–°å°†è¢«ä¿å­˜èµ·æ¥, ç­‰åˆ°jså¼•æ“ç©ºé—²æ—¶ç«‹å³è¢«æ‰§è¡Œ.</p>
<p>ä»¥ä¸Šæ•´ä¸ªajaxè¯·æ±‚è¿‡ç¨‹ä¸­, æœ‰æ¶‰åŠåˆ°æµè§ˆå™¨çš„4ç§çº¿ç¨‹. å…¶ä¸­é™¤äº† <code>GUIæ¸²æŸ“çº¿ç¨‹</code> å’Œ <code>jså¼•æ“çº¿ç¨‹</code> æ˜¯äº’æ–¥çš„. å…¶ä»–çº¿ç¨‹ç›¸äº’ä¹‹é—´, éƒ½æ˜¯å¯ä»¥å¹¶è¡Œæ‰§è¡Œçš„. é€šè¿‡è¿™æ ·çš„ä¸€ç§æ–¹å¼, ajaxå¹¶æ²¡æœ‰ç ´åjsçš„å•çº¿ç¨‹æœºåˆ¶.</p>
<h2 id="ajaxä¸setTimeoutæ’é˜Ÿé—®é¢˜"><a href="#ajaxä¸setTimeoutæ’é˜Ÿé—®é¢˜" class="headerlink" title="ajaxä¸setTimeoutæ’é˜Ÿé—®é¢˜"></a>ajaxä¸setTimeoutæ’é˜Ÿé—®é¢˜</h2><p>ç”±äºajaxå¼‚æ­¥, setTimeoutå›è°ƒæœ¬åº”è¯¥æœ€å…ˆè¢«æ‰§è¡Œ, ç„¶è€Œå®é™…ä¸Š, ä¸€æ¬¡ajaxè¯·æ±‚, å¹¶éæ‰€æœ‰çš„éƒ¨åˆ†éƒ½æ˜¯å¼‚æ­¥çš„, è‡³å°‘<strong>â€œreadyState==1â€çš„ <code>onreadystatechange</code> å›è°ƒä»¥åŠ <code>onloadstart</code> å›è°ƒå°±æ˜¯åŒæ­¥æ‰§è¡Œçš„</strong>. å› æ­¤å®ƒä»¬çš„è¾“å‡ºæ’åœ¨æœ€å‰é¢.</p>
<h2 id="XMLHttpRequest-å±æ€§è§£è¯»"><a href="#XMLHttpRequest-å±æ€§è§£è¯»" class="headerlink" title="XMLHttpRequest å±æ€§è§£è¯»"></a>XMLHttpRequest å±æ€§è§£è¯»</h2><p>è¿½æ ¹æº¯æº, XMLHttpRequest å®ä¾‹å¯¹è±¡å…·æœ‰å¦‚ä¸‹çš„ç»§æ‰¿å…³ç³». (ä¸‹é¢ä»¥a&lt;&lt;bè¡¨ç¤ºaç»§æ‰¿b)</p>
<p><code>xhr</code> &lt;&lt; <code>XMLHttpRequest.prototype</code> &lt;&lt; <code>XMLHttpRequestEventTarget.prototype</code> &lt;&lt; <code>EventTarget.prototype</code> &lt;&lt; <code>Object.prototype</code></p>
<p>é€šå¸¸, ä¸€ä¸ªxhrå®ä¾‹å¯¹è±¡æ‹¥æœ‰10ä¸ªæ™®é€šå±æ€§+9ä¸ªæ–¹æ³•.</p>
<h3 id="readyState"><a href="#readyState" class="headerlink" title="readyState"></a>readyState</h3><p>åªè¯»å±æ€§, readyStateå±æ€§è®°å½•äº†ajaxè°ƒç”¨è¿‡ç¨‹ä¸­æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€.</p>
<h3 id="onreadystatechange"><a href="#onreadystatechange" class="headerlink" title="onreadystatechange"></a>onreadystatechange</h3><p>onreadystatechangeäº‹ä»¶å›è°ƒæ–¹æ³•åœ¨readystateçŠ¶æ€æ”¹å˜æ—¶è§¦å‘, åœ¨ä¸€ä¸ªæ”¶åˆ°å“åº”çš„ajaxè¯·æ±‚å‘¨æœŸä¸­, onreadystatechange æ–¹æ³•ä¼šè¢«è§¦å‘4æ¬¡. å› æ­¤å¯ä»¥åœ¨ onreadystatechange æ–¹æ³•ä¸­ç»‘å®šä¸€äº›äº‹ä»¶å›è°ƒ</p>
<h3 id="status"><a href="#status" class="headerlink" title="status"></a>status</h3><p>åªè¯»å±æ€§, statusè¡¨ç¤ºhttpè¯·æ±‚çš„çŠ¶æ€, åˆå§‹å€¼ä¸º0. å¦‚æœæœåŠ¡å™¨æ²¡æœ‰æ˜¾å¼åœ°æŒ‡å®šçŠ¶æ€ç , é‚£ä¹ˆstatuså°†è¢«è®¾ç½®ä¸ºé»˜è®¤å€¼, å³200.</p>
<h3 id="statusText"><a href="#statusText" class="headerlink" title="statusText"></a>statusText</h3><p>åªè¯»å±æ€§, statusTextè¡¨ç¤ºæœåŠ¡å™¨çš„å“åº”çŠ¶æ€ä¿¡æ¯, å®ƒæ˜¯ä¸€ä¸ª UTF-16 çš„å­—ç¬¦ä¸², è¯·æ±‚æˆåŠŸä¸”status==20Xæ—¶, è¿”å›å¤§å†™çš„ <code>OK</code> . è¯·æ±‚å¤±è´¥æ—¶è¿”å›ç©ºå­—ç¬¦ä¸². å…¶ä»–æƒ…å†µä¸‹è¿”å›ç›¸åº”çš„çŠ¶æ€æè¿°. æ¯”å¦‚: 301çš„ <code>Moved Permanently</code> , 302çš„ <code>Found</code> , 303çš„ <code>See Other</code> , 307 çš„ <code>Temporary Redirect</code> , 400çš„ <code>Bad Request</code> , 401çš„ <code>Unauthorized</code> ç­‰ç­‰.</p>
<h3 id="onloadstart"><a href="#onloadstart" class="headerlink" title="onloadstart"></a>onloadstart</h3><p>onloadstartäº‹ä»¶å›è°ƒæ–¹æ³•åœ¨ajaxè¯·æ±‚å‘é€ä¹‹å‰è§¦å‘, è§¦å‘æ—¶æœºåœ¨ <code>readyState==1</code> çŠ¶æ€ä¹‹å, <code>readyState==2</code> çŠ¶æ€ä¹‹å‰.</p>
<h3 id="onprogress"><a href="#onprogress" class="headerlink" title="onprogress"></a>onprogress</h3><p>onprogressäº‹ä»¶å›è°ƒæ–¹æ³•åœ¨ <code>readyState==3</code> çŠ¶æ€æ—¶å¼€å§‹è§¦å‘, é»˜è®¤ä¼ å…¥ ProgressEvent å¯¹è±¡, å¯é€šè¿‡ <code>e.loaded/e.total</code> æ¥è®¡ç®—åŠ è½½èµ„æºçš„è¿›åº¦, è¯¥æ–¹æ³•ç”¨äºè·å–èµ„æºçš„ä¸‹è½½è¿›åº¦.</p>
<h3 id="onload"><a href="#onload" class="headerlink" title="onload"></a>onload</h3><p>onloadäº‹ä»¶å›è°ƒæ–¹æ³•åœ¨ajaxè¯·æ±‚æˆåŠŸåè§¦å‘, è§¦å‘æ—¶æœºåœ¨ <code>readyState==4</code> çŠ¶æ€ä¹‹å.</p>
<p>å¯ç”¨äºæ•æ‰åˆ°ä¸€ä¸ªajaxå¼‚æ­¥è¯·æ±‚çš„æˆåŠŸçŠ¶æ€, å¹¶ä¸”æ‰§è¡Œå›è°ƒã€‚</p>
<h3 id="onloadend"><a href="#onloadend" class="headerlink" title="onloadend"></a>onloadend</h3><p>onloadendäº‹ä»¶å›è°ƒæ–¹æ³•åœ¨ajaxè¯·æ±‚å®Œæˆåè§¦å‘, è§¦å‘æ—¶æœºåœ¨ <code>readyState==4</code> çŠ¶æ€ä¹‹å(æ”¶åˆ°å“åº”æ—¶) æˆ–è€…<code>readyState==2</code> çŠ¶æ€ä¹‹å(æœªæ”¶åˆ°å“åº”æ—¶).</p>
<h3 id="timeout"><a href="#timeout" class="headerlink" title="timeout"></a>timeout</h3><p>timeoutå±æ€§ç”¨äºæŒ‡å®šajaxçš„è¶…æ—¶æ—¶é•¿. </p>
<h3 id="ontimeout"><a href="#ontimeout" class="headerlink" title="ontimeout"></a>ontimeout</h3><p>ontimeoutæ–¹æ³•åœ¨ajaxè¯·æ±‚è¶…æ—¶æ—¶è§¦å‘, é€šè¿‡å®ƒå¯ä»¥åœ¨ajaxè¯·æ±‚è¶…æ—¶æ—¶åšä¸€äº›åç»­å¤„ç†.</p>
<h3 id="response-responseText"><a href="#response-responseText" class="headerlink" title="response responseText"></a>response responseText</h3><p>å‡ä¸ºåªè¯»å±æ€§, responseè¡¨ç¤ºæœåŠ¡å™¨çš„å“åº”å†…å®¹, ç›¸åº”çš„, responseTextè¡¨ç¤ºæœåŠ¡å™¨å“åº”å†…å®¹çš„æ–‡æœ¬å½¢å¼.</p>
<h3 id="responseXML"><a href="#responseXML" class="headerlink" title="responseXML"></a>responseXML</h3><p>åªè¯»å±æ€§, responseXMLè¡¨ç¤ºxmlå½¢å¼çš„å“åº”æ•°æ®, ç¼ºçœä¸ºnull, è‹¥æ•°æ®ä¸æ˜¯æœ‰æ•ˆçš„xml, åˆ™ä¼šæŠ¥é”™.</p>
<h3 id="responseType"><a href="#responseType" class="headerlink" title="responseType"></a>responseType</h3><p>responseTypeè¡¨ç¤ºå“åº”çš„ç±»å‹, ç¼ºçœä¸ºç©ºå­—ç¬¦ä¸², å¯å– <code>&quot;arraybuffer&quot;</code> , <code>&quot;blob&quot;</code> , <code>&quot;document&quot;</code> , <code>&quot;json&quot;</code> , and <code>&quot;text&quot;</code> å…±äº”ç§ç±»å‹.</p>
<h3 id="responseURL"><a href="#responseURL" class="headerlink" title="responseURL"></a>responseURL</h3><p>responseURLè¿”å›ajaxè¯·æ±‚æœ€ç»ˆçš„URL, å¦‚æœè¯·æ±‚ä¸­å­˜åœ¨é‡å®šå‘, é‚£ä¹ˆresponseURLè¡¨ç¤ºé‡å®šå‘ä¹‹åçš„URL.</p>
<h3 id="withCredentials"><a href="#withCredentials" class="headerlink" title="withCredentials"></a>withCredentials</h3><p>withCredentialsæ˜¯ä¸€ä¸ªå¸ƒå°”å€¼, é»˜è®¤ä¸ºfalse, è¡¨ç¤ºè·¨åŸŸè¯·æ±‚ä¸­ä¸å‘é€cookiesç­‰ä¿¡æ¯.</p>
<h3 id="abort"><a href="#abort" class="headerlink" title="abort"></a>abort</h3><p>abortæ–¹æ³•ç”¨äºå–æ¶ˆajaxè¯·æ±‚, å–æ¶ˆå, readyState çŠ¶æ€å°†è¢«è®¾ç½®ä¸º <code>0</code> (<code>UNSENT</code>). </p>
<h3 id="getResponseHeader"><a href="#getResponseHeader" class="headerlink" title="getResponseHeader"></a>getResponseHeader</h3><p>getResponseHeaderæ–¹æ³•ç”¨äºè·å–ajaxå“åº”å¤´ä¸­æŒ‡å®šnameçš„å€¼. </p>
<h3 id="getAllResponseHeaders"><a href="#getAllResponseHeaders" class="headerlink" title="getAllResponseHeaders"></a>getAllResponseHeaders</h3><p>getAllResponseHeadersæ–¹æ³•ç”¨äºè·å–æ‰€æœ‰å®‰å…¨çš„ajaxå“åº”å¤´, å“åº”å¤´ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›. </p>
<h3 id="setRequestHeader"><a href="#setRequestHeader" class="headerlink" title="setRequestHeader"></a>setRequestHeader</h3><p>è®¾ç½®è¯·æ±‚å¤´</p>
<h3 id="onerror"><a href="#onerror" class="headerlink" title="onerror"></a>onerror</h3><p>onerroræ–¹æ³•ç”¨äºåœ¨ajaxè¯·æ±‚å‡ºé”™åæ‰§è¡Œ. é€šå¸¸åªåœ¨ç½‘ç»œå‡ºç°é—®é¢˜æ—¶æˆ–è€…ERR_CONNECTION_RESETæ—¶è§¦å‘</p>
<h3 id="upload"><a href="#upload" class="headerlink" title="upload"></a>upload</h3><p>uploadå±æ€§é»˜è®¤è¿”å›ä¸€ä¸ª <code>XMLHttpRequestUpload</code> å¯¹è±¡, ç”¨äºä¸Šä¼ èµ„æº</p>
<h3 id="overrideMimeType"><a href="#overrideMimeType" class="headerlink" title="overrideMimeType"></a>overrideMimeType</h3><p>overrideMimeTypeæ–¹æ³•ç”¨äºå¼ºåˆ¶æŒ‡å®šresponse çš„ MIME ç±»å‹, å³å¼ºåˆ¶ä¿®æ”¹responseçš„ <code>Content-Type</code> . </p>
<h2 id="XHRä¸€çº§"><a href="#XHRä¸€çº§" class="headerlink" title="XHRä¸€çº§"></a>XHRä¸€çº§</h2><p>XHR1æ—¶, xhrå¯¹è±¡å…·æœ‰å¦‚ä¸‹ç¼ºç‚¹:</p>
<ul>
<li>ä»…æ”¯æŒæ–‡æœ¬æ•°æ®ä¼ è¾“, æ— æ³•ä¼ è¾“äºŒè¿›åˆ¶æ•°æ®.</li>
<li>ä¼ è¾“æ•°æ®æ—¶, æ²¡æœ‰è¿›åº¦ä¿¡æ¯æç¤º, åªèƒ½æç¤ºæ˜¯å¦å®Œæˆ.</li>
<li>å—æµè§ˆå™¨ <code>åŒæºç­–ç•¥</code> é™åˆ¶, åªèƒ½è¯·æ±‚åŒåŸŸèµ„æº.</li>
<li>æ²¡æœ‰è¶…æ—¶æœºåˆ¶, ä¸æ–¹ä¾¿æŒæ§ajaxè¯·æ±‚èŠ‚å¥.</li>
</ul>
<h2 id="XHRäºŒçº§"><a href="#XHRäºŒçº§" class="headerlink" title="XHRäºŒçº§"></a>XHRäºŒçº§</h2><p>XHR2é’ˆå¯¹XHR1çš„ä¸Šè¿°ç¼ºç‚¹åšäº†å¦‚ä¸‹æ”¹è¿›:</p>
<ul>
<li>æ”¯æŒäºŒè¿›åˆ¶æ•°æ®, å¯ä»¥ä¸Šä¼ æ–‡ä»¶, å¯ä»¥ä½¿ç”¨FormDataå¯¹è±¡ç®¡ç†è¡¨å•.</li>
<li>æä¾›è¿›åº¦æç¤º, å¯é€šè¿‡ <code>xhr.upload.onprogress</code> äº‹ä»¶å›è°ƒæ–¹æ³•è·å–ä¼ è¾“è¿›åº¦.</li>
<li>ä¾ç„¶å— <code>åŒæºç­–ç•¥</code> é™åˆ¶, è¿™ä¸ªå®‰å…¨æœºåˆ¶ä¸ä¼šå˜. XHR2æ–°æä¾› <code>Access-Control-Allow-Origin</code> ç­‰headers, è®¾ç½®ä¸º <code>*</code> æ—¶è¡¨ç¤ºå…è®¸ä»»ä½•åŸŸåè¯·æ±‚, ä»è€Œå®ç°è·¨åŸŸCORSè®¿é—®</li>
<li>å¯ä»¥è®¾ç½®timeout åŠ ontimeout, æ–¹ä¾¿è®¾ç½®è¶…æ—¶æ—¶é•¿å’Œè¶…æ—¶åç»­å¤„ç†.</li>
</ul>
<p>ç›®å‰, ä¸»æµæµè§ˆå™¨åŸºæœ¬ä¸Šéƒ½æ”¯æŒXHR2, é™¤äº†IEç³»åˆ—éœ€è¦IE10åŠæ›´é«˜ç‰ˆæœ¬. å› æ­¤IE10ä»¥ä¸‹æ˜¯ä¸æ”¯æŒXHR2çš„.</p>
<h2 id="XDomainRequest"><a href="#XDomainRequest" class="headerlink" title="XDomainRequest"></a>XDomainRequest</h2><p>XDomainRequest å¯¹è±¡æ˜¯IE8,9æŠ˜è…¾å‡ºæ¥çš„, ç”¨äºæ”¯æŒCORSè¯·æ±‚éæˆç†Ÿçš„è§£å†³æ–¹æ¡ˆ. ä»¥è‡³äºIE10ä¸­ç›´æ¥ç§»é™¤äº†å®ƒ, å¹¶é‡æ–°å›åˆ°äº† XMLHttpRequest çš„æ€€æŠ±.</p>
<h2 id="ajax"><a href="#ajax" class="headerlink" title="$.ajax"></a>$.ajax</h2><h3 id="å‚æ•°åˆ—è¡¨"><a href="#å‚æ•°åˆ—è¡¨" class="headerlink" title="å‚æ•°åˆ—è¡¨"></a>å‚æ•°åˆ—è¡¨</h3><h3 id="æ”¯æŒpromise"><a href="#æ”¯æŒpromise" class="headerlink" title="æ”¯æŒpromise"></a>æ”¯æŒpromise</h3><p>$.ajax() æ–¹æ³•è¿”å›jqXHRå¯¹è±¡(jq1.5èµ·), å¦‚æœä½¿ç”¨çš„ä¸æ˜¯XMLHttpRequestå¯¹è±¡æ—¶, å¦‚jsonpè¯·æ±‚, è¿”å›çš„jqXHRå¯¹è±¡å°†å°½å¯èƒ½æ¨¡æ‹ŸåŸç”Ÿçš„xhr. ä»jq1.5èµ·, è¿”å›çš„jqXHRå¯¹è±¡å®ç°äº†promiseæ¥å£.</p>
<h3 id="ä½¿ç”¨è½¬æ¢å™¨"><a href="#ä½¿ç”¨è½¬æ¢å™¨" class="headerlink" title="ä½¿ç”¨è½¬æ¢å™¨"></a>ä½¿ç”¨è½¬æ¢å™¨</h3><p>$.ajax() çš„è½¬æ¢å™¨å¯ä»¥å°†æ”¯æŒçš„æ•°æ®ç±»å‹æ˜ å°„åˆ°å…¶å®ƒæ•°æ®ç±»å‹. å¦‚æœéœ€è¦å°†è‡ªå®šä¹‰æ•°æ®ç±»å‹æ˜ å°„åˆ°å·²çŸ¥çš„ç±»å‹. éœ€è¦ä½¿ç”¨ <code>contents</code> é€‰é¡¹åœ¨å“åº”çš„ â€œContent-Typeâ€ å’Œå®é™…æ•°æ®ç±»å‹ä¹‹é—´æ·»åŠ ä¸€ä¸ªè½¬æ¢å‡½æ•°.</p>
<h3 id="äº‹ä»¶è§¦å‘é¡ºåº"><a href="#äº‹ä»¶è§¦å‘é¡ºåº" class="headerlink" title="äº‹ä»¶è§¦å‘é¡ºåº"></a>äº‹ä»¶è§¦å‘é¡ºåº</h3><h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2><p>Axios Vs jquery</p>
<ul>
<li>Axiosæ”¯æŒnode, jqueryå¹¶ä¸æ”¯æŒ.</li>
<li>AxiosåŸºäºpromiseè¯­æ³•, jq3.0æ‰å¼€å§‹å…¨é¢æ”¯æŒ.</li>
<li>AxiosçŸ­å°ç²¾æ‚, æ›´åŠ é€‚åˆhttpåœºæ™¯, jqueryå¤§è€Œå…¨, åŠ è½½è¾ƒæ…¢.</li>
<li>vueä½œè€…å°¤å¤§æ”¾å¼ƒæ¨èvue-resource, è½¬å‘æ¨èAxios. ä»¥ä¸‹ä¸ºå°¤å¤§åŸè¯.</li>
</ul>
<p>è¯­æ³•ä¸ŠAxiosåŸºæœ¬å°±å’Œpromiseä¸€æ ·, åœ¨thenæ–¹æ³•ä¸­å¤„ç†å›è°ƒ, åœ¨catchæ–¹æ³•ä¸­å¤„ç†å¼‚å¸¸. å¦‚ä¸‹:</p>
<pre><code class="javascript">axios.get(&quot;https://api.github.com/users/louiszhai&quot;)
  .then(function(response){
    console.log(response);
  })
  .catch(function (error) {
    console.log(error);
  });
</code></pre>
<p>é™¤äº†get, å®ƒè¿˜æ”¯æŒpost, delete, head, put, patch, requestè¯·æ±‚. </p>
<h2 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h2><p><a href="http://louiszhai.github.io/2016/11/02/fetch/" target="_blank" rel="external">Fetchè¿›é˜¶æŒ‡å—</a> .</p>
<h2 id="ajaxè·¨åŸŸè¯·æ±‚"><a href="#ajaxè·¨åŸŸè¯·æ±‚" class="headerlink" title="ajaxè·¨åŸŸè¯·æ±‚"></a>ajaxè·¨åŸŸè¯·æ±‚</h2><h3 id="ä»€ä¹ˆæ˜¯CORS"><a href="#ä»€ä¹ˆæ˜¯CORS" class="headerlink" title="ä»€ä¹ˆæ˜¯CORS"></a>ä»€ä¹ˆæ˜¯CORS</h3><p>å®é™…ä¸Š, æµè§ˆå™¨ä¸ä¼šæ‹¦æˆªä¸åˆæ³•çš„è·¨åŸŸè¯·æ±‚, è€Œæ˜¯æ‹¦æˆªäº†ä»–ä»¬çš„å“åº”, å› æ­¤å³ä½¿è¯·æ±‚ä¸åˆæ³•, å¾ˆå¤šæ—¶å€™, æœåŠ¡å™¨ä¾ç„¶æ”¶åˆ°äº†è¯·æ±‚.(Chromeå’ŒFirefoxä¸‹httpsç½‘ç«™ä¸å…è®¸å‘é€httpå¼‚æ­¥è¯·æ±‚é™¤å¤–)</p>
<h3 id="ç§»åŠ¨ç«¯CORSå…¼å®¹æ€§"><a href="#ç§»åŠ¨ç«¯CORSå…¼å®¹æ€§" class="headerlink" title="ç§»åŠ¨ç«¯CORSå…¼å®¹æ€§"></a>ç§»åŠ¨ç«¯CORSå…¼å®¹æ€§</h3><p>å½“å‰å‡ ä¹æ‰€æœ‰çš„æ¡Œé¢æµè§ˆå™¨(Internet Explorer 8+, Firefox 3.5+, Safari 4+å’Œ Chrome 3+)éƒ½å¯é€šè¿‡åä¸ºè·¨åŸŸèµ„æºå…±äº«çš„åè®®æ”¯æŒajaxè·¨åŸŸè°ƒç”¨.</p>
<p> CORSçš„æŠ€æœ¯åœ¨IOS Safari7.1åŠAndroid webview2.3ä¸­å°±æ—©å·²æ”¯æŒ, å³ä½¿ä½ç‰ˆæœ¬ä¸‹webviewçš„canvasåœ¨ä½¿ç”¨è·¨åŸŸçš„videoæˆ–å›¾ç‰‡æ—¶ä¼šæœ‰é—®é¢˜, ä¹Ÿä¸æ¯«ä¸å½±å“CORSçš„åœ¨ç§»åŠ¨ç«¯çš„ä½¿ç”¨. </p>
<h3 id="CORSæœ‰å…³çš„headers"><a href="#CORSæœ‰å…³çš„headers" class="headerlink" title="CORSæœ‰å…³çš„headers"></a>CORSæœ‰å…³çš„headers</h3><h3 id="CORSè¯·æ±‚"><a href="#CORSè¯·æ±‚" class="headerlink" title="CORSè¯·æ±‚"></a>CORSè¯·æ±‚</h3><p>CORSè¯·æ±‚åˆ†ä¸ºä¸¤ç§, â‘  ç®€å•è¯·æ±‚; â‘¡ éç®€å•è¯·æ±‚.</p>
<p>å¯¹äºç®€å•è¯·æ±‚, æµè§ˆå™¨å°†å‘é€ä¸€æ¬¡httpè¯·æ±‚, åŒæ—¶åœ¨Requestå¤´åŸŸä¸­å¢åŠ  <code>Origin</code> å­—æ®µ, ç”¨æ¥æ ‡ç¤ºè¯·æ±‚å‘èµ·çš„æº, æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªæºé‡‡å–ä¸åŒçš„å“åº”ç­–ç•¥. è‹¥æœåŠ¡å™¨è®¤ä¸ºè¯¥è¯·æ±‚åˆæ³•, é‚£ä¹ˆéœ€è¦å¾€è¿”å›çš„ HTTP Response ä¸­æ·»åŠ  <code>Access-Control-*</code> ç­‰å­—æ®µ.</p>
<p>å¯¹äºéç®€å•è¯·æ±‚, æ¯”å¦‚Methodä¸º<code>POST</code>ä¸”Content-Typeå€¼ä¸º <code>application/json</code> çš„è¯·æ±‚æˆ–è€…Methodä¸º <code>PUT</code> æˆ– <code>DELETE</code> çš„è¯·æ±‚, æµè§ˆå™¨å°†å‘é€ä¸¤æ¬¡httpè¯·æ±‚. ç¬¬ä¸€æ¬¡ä¸ºpreflighté¢„æ£€(Method: OPTIONS),ä¸»è¦éªŒè¯æ¥æºæ˜¯å¦åˆæ³•. å€¼å¾—æ³¨æ„çš„æ˜¯:OPTIONè¯·æ±‚å“åº”å¤´åŒæ ·éœ€è¦åŒ…å« <code>Access-Control-*</code> å­—æ®µç­‰. ç¬¬äºŒæ¬¡æ‰æ˜¯çœŸæ­£çš„HTTPè¯·æ±‚. æ‰€ä»¥æœåŠ¡å™¨å¿…é¡»å¤„ç†OPTIONSåº”ç­”(é€šå¸¸éœ€è¦è¿”å›20Xçš„çŠ¶æ€ç , å¦åˆ™xhr.onerroräº‹ä»¶å°†è¢«è§¦å‘).</p>
<h3 id="HTMLå¯ç”¨CORS"><a href="#HTMLå¯ç”¨CORS" class="headerlink" title="HTMLå¯ç”¨CORS"></a>HTMLå¯ç”¨CORS</h3><pre><code class="html">&lt;meta http-equiv=&quot;Access-Control-Allow-Origin&quot; content=&quot;*&quot;&gt;
</code></pre>
<h3 id="å›¾ç‰‡å¯ç”¨CORS"><a href="#å›¾ç‰‡å¯ç”¨CORS" class="headerlink" title="å›¾ç‰‡å¯ç”¨CORS"></a>å›¾ç‰‡å¯ç”¨CORS</h3><p>é€šå¸¸, å›¾ç‰‡å…è®¸è·¨åŸŸè®¿é—®, ä¹Ÿå¯ä»¥åœ¨canvasä¸­ä½¿ç”¨è·¨åŸŸçš„å›¾ç‰‡, ä½†è¿™æ ·åšä¼šæ±¡æŸ“ç”»å¸ƒ, ä¸€æ—¦ç”»å¸ƒå—æ±¡æŸ“, å°†æ— æ³•è¯»å–å…¶æ•°æ®. æµè§ˆå™¨çš„è¿™ç§å®‰å…¨æœºåˆ¶è§„é¿äº†æœªç»è®¸å¯çš„è¿œç¨‹æœåŠ¡å™¨å›¾ç‰‡è¢«æ»¥ç”¨çš„é£é™©.</p>
<p>å› æ­¤å¦‚éœ€åœ¨canvasä¸­ä½¿ç”¨è·¨åŸŸçš„å›¾ç‰‡èµ„æº, è¯·å‚è€ƒå¦‚ä¸‹apacheé…ç½®ç‰‡æ®µ(æ¥è‡ª<a href="https://github.com/h5bp/server-configs-apache/blob/fc379c45f52a09dd41279dbf4e60ae281110a5b0/src/.htaccess#L36-L53" target="_blank" rel="external">HTML5 Boilerplate Apache server configs</a>).</p>
<h2 id="ajaxæ–‡ä»¶ä¸Šä¼ "><a href="#ajaxæ–‡ä»¶ä¸Šä¼ " class="headerlink" title="ajaxæ–‡ä»¶ä¸Šä¼ "></a>ajaxæ–‡ä»¶ä¸Šä¼ </h2><p>1) ä¸ºäº†ä¸Šä¼ æ–‡ä»¶, æˆ‘ä»¬å¾—å…ˆé€‰ä¸­ä¸€ä¸ªæ–‡ä»¶. ä¸€ä¸ªtypeä¸ºfileçš„inputæ¡†å°±å¤Ÿäº†.</p>
<pre><code class="html">&lt;input id=&quot;input&quot; type=&quot;file&quot;&gt;
</code></pre>
<p>2) ç„¶åç”¨FormDataå¯¹è±¡åŒ…è£¹ğŸ“¦é€‰ä¸­çš„æ–‡ä»¶.</p>
<pre><code class="javascript">var input = document.getElementById(&quot;input&quot;),
    formData = new FormData();
formData.append(&quot;file&quot;,input.files[0]);//keyå¯ä»¥éšæ„å®šä¹‰,åªè¦åå°èƒ½ç†è§£å°±è¡Œ
</code></pre>
<p>3) å®šä¹‰ä¸Šä¼ çš„URL, ä»¥åŠæ–¹æ³•. githubä¸Šæˆ‘æ­å»ºäº†ä¸€ä¸ª <a href="https://github.com/Louiszhai/node-webserver" target="_blank" rel="external">node-webserver</a>, æ ¹æ®éœ€è¦å¯ä»¥è‡ªè¡Œå…‹éš†ä¸‹æ¥npm startåä¾¿å¯è°ƒè¯•æœ¬ç¯‡ä»£ç .</p>
<pre><code class="javascript">var url = &quot;http://localhost:10108/test&quot;,
    method = &quot;POST&quot;;
</code></pre>
<h3 id="jsæ–‡ä»¶ä¸Šä¼ "><a href="#jsæ–‡ä»¶ä¸Šä¼ " class="headerlink" title="jsæ–‡ä»¶ä¸Šä¼ "></a>jsæ–‡ä»¶ä¸Šä¼ </h3><p>4.1) å°è£…ä¸€ä¸ªç”¨äºå‘é€ajaxè¯·æ±‚çš„æ–¹æ³•.</p>
<pre><code class="javascript">function ajax(url, method, data){
  var xhr = null;
  if(window.XMLHttpRequest) {
    xhr = new XMLHttpRequest();
  } else if (window.ActiveXObject) {
    try {
      xhr = new ActiveXObject(&quot;Msxml2.XMLHTTP&quot;);
    } catch (e) {
      try {
        xhr = new ActiveXObject(&quot;Microsoft.XMLHTTP&quot;);
      } catch (e) { 
        alert(&quot;æ‚¨çš„æµè§ˆå™¨æš‚ä¸æ”¯æŒAjax!&quot;);
      }
    }
  }
  xhr.onerror = function(e){
    console.log(e);
  }
  xhr.open(method, url);
  try{
    setTimeout(function(){
      xhr.send(data);
    });
  }catch(e){
    console.log(&#39;error:&#39;,e);
  }
  return xhr;
}
</code></pre>
<p>4.2) ä¸Šä¼ æ–‡ä»¶å¹¶ç»‘å®šäº‹ä»¶.</p>
<pre><code class="javascript">var xhr = ajax(url, method, formData);
xhr.upload.onprogress = function(e){
  console.log(&quot;upload progress:&quot;, e.loaded/e.total*100 + &quot;%&quot;);
};
xhr.upload.onload = function(){
  console.log(&quot;upload onload.&quot;);
};
xhr.onload = function(){
  console.log(&quot;onload.&quot;);
}
</code></pre>
<h3 id="fetchä¸Šä¼ "><a href="#fetchä¸Šä¼ " class="headerlink" title="fetchä¸Šä¼ "></a>fetchä¸Šä¼ </h3><p>5) fetchåªè¦å‘é€ä¸€ä¸ªpostè¯·æ±‚, å¹¶ä¸”bodyå±æ€§è®¾ç½®ä¸ºformDataå³å¯. é—æ†¾çš„æ˜¯, fetchæ— æ³•è·Ÿè¸ªä¸Šä¼ çš„è¿›åº¦ä¿¡æ¯.</p>
<pre><code class="javascript">fetch(url, {
  method: method,
  body: formData
  }).then(function(res){
  console.log(res);
  }).catch(function(e){
  console.log(e);
});
</code></pre>
<h3 id="jqueryæ–‡ä»¶ä¸Šä¼ "><a href="#jqueryæ–‡ä»¶ä¸Šä¼ " class="headerlink" title="jqueryæ–‡ä»¶ä¸Šä¼ "></a>jqueryæ–‡ä»¶ä¸Šä¼ </h3><p>6) jqçš„ajaxæä¾›äº†xhrå±æ€§ç”¨äºè‡ªå®šä¹‰å„ç§äº‹ä»¶.</p>
<pre><code class="javascript">$.ajax({
  type: method,
  url: url,
  data: formData,
  processData : false,
  contentType : false ,//å¿…é¡»falseæ‰ä¼šè‡ªåŠ¨åŠ ä¸Šæ­£ç¡®çš„Content-Type
  xhr: function(){
    var xhr = $.ajaxSettings.xhr();//å®é™…ä¸Šå°±æ˜¯return new window.XMLHttpRequest()å¯¹è±¡
    if(xhr.upload) {
      xhr.upload.addEventListener(&quot;progress&quot;, function(e){
        console.log(&quot;jq upload progress:&quot;, e.loaded/e.total*100 + &quot;%&quot;);
      }, false);
      xhr.upload.addEventListener(&quot;load&quot;, function(){
        console.log(&quot;jq upload onload.&quot;);
      });
      xhr.addEventListener(&quot;load&quot;, function(){
        console.log(&quot;jq onload.&quot;);
      });
      return xhr;
    }
  }
});
</code></pre>
<h2 id="ajaxè¯·æ±‚äºŒè¿›åˆ¶æ–‡ä»¶"><a href="#ajaxè¯·æ±‚äºŒè¿›åˆ¶æ–‡ä»¶" class="headerlink" title="ajaxè¯·æ±‚äºŒè¿›åˆ¶æ–‡ä»¶"></a>ajaxè¯·æ±‚äºŒè¿›åˆ¶æ–‡ä»¶</h2><h3 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h3><p>å¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ä¸»è¦ä½¿ç”¨çš„æ˜¯H5çš„FileReader.</p>
<h2 id="å¦‚ä½•ç­‰å¾…å¤šä¸ªajaxè¯·æ±‚å®Œæˆ"><a href="#å¦‚ä½•ç­‰å¾…å¤šä¸ªajaxè¯·æ±‚å®Œæˆ" class="headerlink" title="å¦‚ä½•ç­‰å¾…å¤šä¸ªajaxè¯·æ±‚å®Œæˆ"></a>å¦‚ä½•ç­‰å¾…å¤šä¸ªajaxè¯·æ±‚å®Œæˆ</h2><p>åŸç”Ÿjså¯ä»¥ä½¿ç”¨ES6æ–°å¢çš„Promise.</p>
<p>è¿™é‡Œå…ˆæä¾›ä¸€ä¸ªè§£æresponsesçš„å‡½æ•°.</p>
<pre><code class="javascript">function todo(responses){
  responses.forEach(function(response){
    response.json().then(function(res){
      console.log(res);
    });
  });
}
</code></pre>
<p>åŸç”Ÿjsä½¿ç”¨ <code>Promise.all</code> æ–¹æ³•. å¦‚ä¸‹:</p>
<pre><code class="javascript">var p1 = fetch(&quot;http://localhost:10108/test1&quot;),
    p2 = fetch(&quot;http://localhost:10108/test2&quot;);
Promise.all([p1, p2]).then(function(responses){
  todo(responses);
  //TODO do somethings
});
//&quot;test1&quot;
//&quot;test2&quot;
</code></pre>
<p>jqueryå¯ä»¥ä½¿ç”¨$.whenæ–¹æ³•. è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªDeferredå¯¹è±¡ä½œä¸ºå‚æ•°, åªæœ‰å…¨éƒ¨æˆåŠŸæ‰è°ƒç”¨resolvedçŠ¶æ€çš„å›è°ƒå‡½æ•°, ä½†åªè¦å…¶ä¸­æœ‰ä¸€ä¸ªå¤±è´¥ï¼Œå°±è°ƒç”¨rejectedçŠ¶æ€çš„å›è°ƒå‡½æ•°. å…¶å®, jqçš„Deferredæ˜¯åŸºäº Promises/Aè§„èŒƒå®ç°, ä½†å¹¶éå®Œå…¨éµå¾ª. (ä¼ é€é—¨: <a href="http://www.css88.com/archives/4750/comment-page-1" target="_blank" rel="external">jQuery ä¸­çš„ Deferred å’Œ Promises (2)</a> ).</p>
<pre><code class="javascript">var p1 = $.ajax(&quot;http://localhost:10108/test1&quot;),
    p2 = $.ajax(&quot;http://localhost:10108/test2&quot;);
$.when(p1, p2).then(function(res1, res2){
  console.log(res1);//[&quot;test1&quot;, &quot;success&quot;, Object]
  console.log(res2);//[&quot;test2&quot;, &quot;success&quot;, Object]
  //TODO do somethings
});
</code></pre>
<h2 id="ajaxä¸historyçš„å…¼å®¹"><a href="#ajaxä¸historyçš„å…¼å®¹" class="headerlink" title="ajaxä¸historyçš„å…¼å®¹"></a>ajaxä¸historyçš„å…¼å®¹</h2><p>å¦‚ä»Š, H5æ™®åŠ, pjaxå¤§è¡Œå…¶é“. pajax å°±æ˜¯ ajax+history.pushState ç»„åˆçš„ä¸€ç§æŠ€æœ¯. ä½¿ç”¨å®ƒä¾¿å¯ä»¥æ— åˆ·æ–°é€šè¿‡æµè§ˆå™¨å‰è¿›å’Œåé€€æ¥æ”¹å˜é¡µé¢å†…å®¹.</p>
<p>IE8,9å¹¶ä¸èƒ½ä½¿ç”¨ H5çš„history. éœ€è¦ä½¿ç”¨å«ç‰‡ <a href="https://github.com/devote/HTML5-History-API" target="_blank" rel="external">HTML5 History API expansion for browsers not supporting pushState, replaceState</a> .</p>
<h3 id="pjax"><a href="#pjax" class="headerlink" title="pjax"></a>pjax</h3><p>pjaxç®€å•æ˜“ç”¨, ä»…éœ€è¦å¦‚ä¸‹ä¸‰ä¸ªapi:</p>
<ul>
<li>history.pushState(obj, title, url) è¡¨ç¤ºå¾€é¡µé¢historyæœ«å°¾æ–°å¢ä¸€ä¸ªå†å²é¡¹(history entry), æ­¤æ—¶history.lengthä¼š+1.</li>
<li>history.replaceState(obj, title, url) è¡¨ç¤ºæ›¿æ¢å½“å‰å†å²é¡¹ä¸ºæ–°çš„å†å²é¡¹. æ­¤æ—¶history.lengthä¿æŒä¸å˜.</li>
<li>window.onpopstate ä»…åœ¨æµè§ˆå™¨å‰è¿›å’Œåé€€æ—¶è§¦å‘(history.go(1), history.back() åŠlocation.href=â€xxxâ€ å‡ä¼šè§¦å‘), æ­¤æ—¶å¯åœ¨history.stateä¸­æ‹¿åˆ°åˆšåˆšå¡è¿›å»çš„state, å³objå¯¹è±¡(å…¶ä»–æ•°æ®ç±»å‹äº¦å¯).</li>
</ul>
<h2 id="ajaxç¼“å­˜å¤„ç†"><a href="#ajaxç¼“å­˜å¤„ç†" class="headerlink" title="ajaxç¼“å­˜å¤„ç†"></a>ajaxç¼“å­˜å¤„ç†</h2><p>jsä¸­çš„httpç¼“å­˜æ²¡æœ‰å¼€å…³, å—åˆ¶äºæµè§ˆå™¨httpç¼“å­˜ç­–ç•¥. åŸç”Ÿxhrè¯·æ±‚ä¸­, å¯é€šè¿‡å¦‚ä¸‹è®¾ç½®å…³é—­ç¼“å­˜.</p>
<pre><code class="javascript">xhr.setRequestHeader(&quot;If-Modified-Since&quot;,&quot;0&quot;);
xhr.setRequestHeader(&quot;Cache-Control&quot;,&quot;no-cache&quot;);
//æˆ–è€… URL å‚æ•°ååŠ ä¸Š  &quot;?timestamp=&quot; + new Date().getTime()
</code></pre>
<h2 id="ajaxçš„é”™è¯¯å¤„ç†"><a href="#ajaxçš„é”™è¯¯å¤„ç†" class="headerlink" title="ajaxçš„é”™è¯¯å¤„ç†"></a>ajaxçš„é”™è¯¯å¤„ç†</h2><p>å‰é¢å·²ç»æè¿‡, é€šå¸¸åªè¦æ˜¯ajaxè¯·æ±‚æ”¶åˆ°äº†httpçŠ¶æ€ç , ä¾¿ä¸ä¼šè¿›å…¥åˆ°é”™è¯¯æ•è·é‡Œ.(Chromeä¸­407å“åº”å¤´é™¤å¤–)</p>
<p>å®é™…ä¸Š, <code>$.ajax</code>æ–¹æ³•ç•¥æœ‰åŒºåˆ«, jqueryçš„ajaxæ–¹æ³•è¿˜ä¼šåœ¨ç±»å‹è§£æå‡ºé”™æ—¶è§¦å‘errorå›è°ƒ. æœ€å¸¸è§çš„ä¾¿æ˜¯: dataTypeè®¾ç½®ä¸ºjson, ä½†æ˜¯è¿”å›çš„dataå¹¶éjsonæ ¼å¼, æ­¤æ—¶ <code>$.ajax</code> çš„errorå›è°ƒä¾¿ä¼šè§¦å‘.</p>
<h2 id="ajaxè°ƒè¯•æŠ€å·§"><a href="#ajaxè°ƒè¯•æŠ€å·§" class="headerlink" title="ajaxè°ƒè¯•æŠ€å·§"></a>ajaxè°ƒè¯•æŠ€å·§</h2><h3 id="ç¼–ç é—®é¢˜"><a href="#ç¼–ç é—®é¢˜" class="headerlink" title="ç¼–ç é—®é¢˜"></a>ç¼–ç é—®é¢˜</h3><h2 id="åç«¯æ¥å£æµ‹è¯•æŠ€å·§"><a href="#åç«¯æ¥å£æµ‹è¯•æŠ€å·§" class="headerlink" title="åç«¯æ¥å£æµ‹è¯•æŠ€å·§"></a>åç«¯æ¥å£æµ‹è¯•æŠ€å·§</h2><h3 id="ä½¿ç”¨å‘½ä»¤æµ‹è¯•OPTIONSè¯·æ±‚"><a href="#ä½¿ç”¨å‘½ä»¤æµ‹è¯•OPTIONSè¯·æ±‚" class="headerlink" title="ä½¿ç”¨å‘½ä»¤æµ‹è¯•OPTIONSè¯·æ±‚"></a>ä½¿ç”¨å‘½ä»¤æµ‹è¯•OPTIONSè¯·æ±‚</h3><h3 id="postman"><a href="#postman" class="headerlink" title="postman"></a>postman</h3><h2 id="ajaxç§»åŠ¨ç«¯å…¼å®¹æ€§"><a href="#ajaxç§»åŠ¨ç«¯å…¼å®¹æ€§" class="headerlink" title="ajaxç§»åŠ¨ç«¯å…¼å®¹æ€§"></a>ajaxç§»åŠ¨ç«¯å…¼å®¹æ€§</h2><p>ç§»åŠ¨ç«¯çš„æ”¯æŒæ€§æ¯”è¾ƒå¼±, ä½¿ç”¨éœ€è°¨æ…. </p>
<h1 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h1><h2 id="Case1-ä»€ä¹ˆæ˜¯AJAX"><a href="#Case1-ä»€ä¹ˆæ˜¯AJAX" class="headerlink" title="Case1.ä»€ä¹ˆæ˜¯AJAX"></a>Case1.ä»€ä¹ˆæ˜¯AJAX</h2><p>AJAXæ˜¯â€œAsynchronous JavaScript and XMLâ€çš„ç¼©å†™ã€‚ä»–æ˜¯æŒ‡ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ã€‚</p>
<p>AjaxåŒ…å«ä¸‹åˆ—æŠ€æœ¯ï¼š<br>åŸºäºwebæ ‡å‡†ï¼ˆstandards-basedpresentationï¼‰XHTML+CSSçš„è¡¨ç¤ºï¼›<br>ä½¿ç”¨ DOMï¼ˆDocument ObjectModelï¼‰è¿›è¡ŒåŠ¨æ€æ˜¾ç¤ºåŠäº¤äº’ï¼›<br>ä½¿ç”¨ XML å’Œ XSLT è¿›è¡Œæ•°æ®äº¤æ¢åŠç›¸å…³æ“ä½œï¼›<br>ä½¿ç”¨ XMLHttpRequest è¿›è¡Œå¼‚æ­¥æ•°æ®æŸ¥è¯¢ã€æ£€ç´¢ï¼›<br>ä½¿ç”¨ JavaScript å°†æ‰€æœ‰çš„ä¸œè¥¿ç»‘å®šåœ¨ä¸€èµ·ã€‚</p>
<h2 id="Case2-ä¸ºä»€ä¹ˆè¦ç”¨ajax"><a href="#Case2-ä¸ºä»€ä¹ˆè¦ç”¨ajax" class="headerlink" title="Case2.ä¸ºä»€ä¹ˆè¦ç”¨ajax"></a>Case2.ä¸ºä»€ä¹ˆè¦ç”¨ajax</h2><p>Ajaxåº”ç”¨ç¨‹åºçš„ä¼˜åŠ¿åœ¨äºï¼š</p>
<ol>
<li>é€šè¿‡å¼‚æ­¥æ¨¡å¼ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒ</li>
<li>ä¼˜åŒ–äº†æµè§ˆå™¨å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¼ è¾“ï¼Œå‡å°‘ä¸å¿…è¦çš„æ•°æ®å¾€è¿”ï¼Œå‡å°‘äº†å¸¦å®½å ç”¨</li>
<li>Ajaxå¼•æ“åœ¨å®¢æˆ·ç«¯è¿è¡Œï¼Œæ‰¿æ‹…äº†ä¸€éƒ¨åˆ†æœ¬æ¥ç”±æœåŠ¡å™¨æ‰¿æ‹…çš„å·¥ä½œï¼Œä»è€Œå‡å°‘äº†å¤§ç”¨æˆ·é‡ä¸‹çš„æœåŠ¡å™¨è´Ÿè½½ã€‚</li>
</ol>
<h2 id="Case3-AJAXæœ€å¤§çš„ç‰¹ç‚¹"><a href="#Case3-AJAXæœ€å¤§çš„ç‰¹ç‚¹" class="headerlink" title="Case3.AJAXæœ€å¤§çš„ç‰¹ç‚¹"></a>Case3.AJAXæœ€å¤§çš„ç‰¹ç‚¹</h2><p>Ajaxå¯ä»¥å®ç°åŠ¨æ€ä¸åˆ·æ–°ï¼ˆå±€éƒ¨åˆ·æ–°ï¼‰ã€‚å°±æ˜¯èƒ½åœ¨ä¸æ›´æ–°æ•´ä¸ªé¡µé¢çš„å‰æä¸‹ç»´æŠ¤æ•°æ®ã€‚è¿™ä½¿å¾—Webåº”ç”¨ç¨‹åºæ›´ä¸ºè¿…æ·åœ°å›åº”ç”¨æˆ·åŠ¨ä½œï¼Œå¹¶é¿å…äº†åœ¨ç½‘ç»œä¸Šå‘é€é‚£äº›æ²¡æœ‰æ”¹å˜è¿‡çš„ä¿¡æ¯ã€‚</p>
<h2 id="Case4-ä»‹ç»XMLhttprequestå¯¹è±¡"><a href="#Case4-ä»‹ç»XMLhttprequestå¯¹è±¡" class="headerlink" title="Case4.ä»‹ç»XMLhttprequestå¯¹è±¡"></a>Case4.ä»‹ç»XMLhttprequestå¯¹è±¡</h2><p>Ajaxçš„æ ¸å¿ƒæ˜¯JavaScriptå¯¹è±¡XmlHttpRequestã€‚è¯¥å¯¹è±¡åœ¨Internet Explorer 5ä¸­é¦–æ¬¡å¼•å…¥ï¼Œå®ƒæ˜¯ä¸€ç§æ”¯æŒå¼‚æ­¥è¯·æ±‚çš„æŠ€æœ¯ã€‚ç®€è€Œè¨€ä¹‹ï¼ŒXmlHttpRequestä½¿æ‚¨å¯ä»¥ä½¿ç”¨JavaScriptå‘æœåŠ¡å™¨æå‡ºè¯·æ±‚å¹¶å¤„ç†å“åº”ï¼Œè€Œä¸é˜»å¡ç”¨æˆ·ã€‚é€šè¿‡XMLHttpRequestå¯¹è±¡ï¼ŒWebå¼€å‘äººå‘˜å¯ä»¥åœ¨é¡µé¢åŠ è½½ä»¥åè¿›è¡Œé¡µé¢çš„å±€éƒ¨æ›´æ–°ã€‚</p>
<h2 id="Case5-AJAXæŠ€æœ¯ä½“ç³»çš„ç»„æˆéƒ¨åˆ†æœ‰å“ªäº›"><a href="#Case5-AJAXæŠ€æœ¯ä½“ç³»çš„ç»„æˆéƒ¨åˆ†æœ‰å“ªäº›" class="headerlink" title="Case5.AJAXæŠ€æœ¯ä½“ç³»çš„ç»„æˆéƒ¨åˆ†æœ‰å“ªäº›"></a>Case5.AJAXæŠ€æœ¯ä½“ç³»çš„ç»„æˆéƒ¨åˆ†æœ‰å“ªäº›</h2><p>HTMLï¼Œcssï¼Œdomï¼Œxmlï¼ŒxmlHttpRequestï¼Œjavascript</p>
<h2 id="Case6-AJAXåº”ç”¨å’Œä¼ ç»ŸWebåº”ç”¨æœ‰ä»€ä¹ˆä¸åŒ"><a href="#Case6-AJAXåº”ç”¨å’Œä¼ ç»ŸWebåº”ç”¨æœ‰ä»€ä¹ˆä¸åŒ" class="headerlink" title="Case6.AJAXåº”ç”¨å’Œä¼ ç»ŸWebåº”ç”¨æœ‰ä»€ä¹ˆä¸åŒ"></a>Case6.AJAXåº”ç”¨å’Œä¼ ç»ŸWebåº”ç”¨æœ‰ä»€ä¹ˆä¸åŒ</h2><p>åœ¨ä¼ ç»Ÿçš„Javascriptç¼–ç¨‹ä¸­ï¼Œå¦‚æœæƒ³å¾—åˆ°æœåŠ¡å™¨ç«¯æ•°æ®åº“æˆ–æ–‡ä»¶ä¸Šçš„ä¿¡æ¯ï¼Œæˆ–è€…å‘é€å®¢æˆ·ç«¯ä¿¡æ¯åˆ°æœåŠ¡å™¨ï¼Œéœ€è¦å»ºç«‹ä¸€ä¸ªHTML formç„¶åGETæˆ–è€…POSTæ•°æ®åˆ°æœåŠ¡å™¨ç«¯ã€‚ç”¨æˆ·éœ€è¦ç‚¹å‡»â€Submitâ€æŒ‰é’®æ¥å‘é€æˆ–è€…æ¥å—æ•°æ®ä¿¡æ¯ï¼Œç„¶åç­‰å¾…æœåŠ¡å™¨å“åº”è¯·æ±‚ï¼Œé¡µé¢é‡æ–°åŠ è½½ã€‚å› ä¸ºæœåŠ¡å™¨æ¯æ¬¡éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œ æ‰€ä»¥ä¼ ç»Ÿçš„webåº”ç”¨æœ‰å¯èƒ½å¾ˆæ…¢è€Œä¸”ç”¨æˆ·äº¤äº’ä¸å‹å¥½ã€‚</p>
<p>ä½¿ç”¨AJAXæŠ€æœ¯ï¼Œ å°±å¯ä»¥ä½¿Javascripté€šè¿‡XMLHttpRequestå¯¹è±¡ç›´æ¥ä¸æœåŠ¡å™¨è¿›è¡Œäº¤äº’ã€‚<br>é€šè¿‡HTTP Requestï¼Œ ä¸€ä¸ªwebé¡µé¢å¯ä»¥å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°webæœåŠ¡å™¨å¹¶ä¸”æ¥å—webæœåŠ¡å™¨è¿”å›çš„ä¿¡æ¯(ä¸ç”¨é‡æ–°åŠ è½½é¡µé¢)ï¼Œå±•ç¤ºç»™ç”¨æˆ·çš„è¿˜æ˜¯é€šä¸€ä¸ªé¡µé¢ï¼Œç”¨æˆ·æ„Ÿè§‰é¡µé¢åˆ·æ–°ï¼Œä¹Ÿçœ‹ä¸åˆ°åˆ°Javascriptåå°è¿›è¡Œçš„å‘é€è¯·æ±‚å’Œæ¥å—å“åº”ã€‚</p>
<h2 id="Case7-AJAXè¯·æ±‚æ€»å…±æœ‰å¤šå°‘ç§CALLBACK"><a href="#Case7-AJAXè¯·æ±‚æ€»å…±æœ‰å¤šå°‘ç§CALLBACK" class="headerlink" title="Case7.AJAXè¯·æ±‚æ€»å…±æœ‰å¤šå°‘ç§CALLBACK"></a>Case7.AJAXè¯·æ±‚æ€»å…±æœ‰å¤šå°‘ç§CALLBACK</h2><p>Ajaxè¯·æ±‚æ€»å…±æœ‰å…«ç§Callback</p>
<ul>
<li>onSuccess</li>
<li>onFailure</li>
<li>onUninitialized</li>
<li>onLoading</li>
<li>onLoaded</li>
<li>onInteractive</li>
<li>onComplete</li>
<li>onException</li>
</ul>
<h2 id="Case8-åœ¨æµè§ˆå™¨ç«¯å¦‚ä½•å¾—åˆ°æœåŠ¡å™¨ç«¯å“åº”çš„XMLæ•°æ®"><a href="#Case8-åœ¨æµè§ˆå™¨ç«¯å¦‚ä½•å¾—åˆ°æœåŠ¡å™¨ç«¯å“åº”çš„XMLæ•°æ®" class="headerlink" title="Case8.åœ¨æµè§ˆå™¨ç«¯å¦‚ä½•å¾—åˆ°æœåŠ¡å™¨ç«¯å“åº”çš„XMLæ•°æ®"></a>Case8.åœ¨æµè§ˆå™¨ç«¯å¦‚ä½•å¾—åˆ°æœåŠ¡å™¨ç«¯å“åº”çš„XMLæ•°æ®</h2><p>XMLHttpRequestå¯¹è±¡çš„responseXMlå±æ€§</p>
<h2 id="Case9-XMLHttpRequestå¯¹è±¡åœ¨IEå’ŒFirefoxä¸­åˆ›å»ºæ–¹å¼"><a href="#Case9-XMLHttpRequestå¯¹è±¡åœ¨IEå’ŒFirefoxä¸­åˆ›å»ºæ–¹å¼" class="headerlink" title="Case9.XMLHttpRequestå¯¹è±¡åœ¨IEå’ŒFirefoxä¸­åˆ›å»ºæ–¹å¼"></a>Case9.XMLHttpRequestå¯¹è±¡åœ¨IEå’ŒFirefoxä¸­åˆ›å»ºæ–¹å¼</h2><p>IEä¸­é€šè¿‡new ActiveXObject()å¾—åˆ°ï¼ŒFirefoxä¸­é€šè¿‡newXMLHttpRequest()å¾—åˆ°</p>
<h2 id="Case10-XMLHttpRequestå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•å’Œå±æ€§"><a href="#Case10-XMLHttpRequestå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•å’Œå±æ€§" class="headerlink" title="Case10.XMLHttpRequestå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•å’Œå±æ€§"></a>Case10.XMLHttpRequestå¯¹è±¡çš„å¸¸ç”¨æ–¹æ³•å’Œå±æ€§</h2><p><strong>æ–¹æ³•</strong></p>
<p><code>open(â€œmethodâ€,â€URLâ€)</code> å»ºç«‹å¯¹æœåŠ¡å™¨çš„è°ƒç”¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯HTTPè¯·æ±‚æ–¹å¼å¯ä»¥ä¸ºGETï¼ŒPOSTæˆ–ä»»ä½•æœåŠ¡å™¨æ‰€æ”¯æŒçš„æ‚¨æƒ³è°ƒç”¨çš„æ–¹å¼ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¯·æ±‚é¡µé¢çš„URLã€‚</p>
<p><code>send()</code>æ–¹æ³•ï¼Œå‘é€å…·ä½“è¯·æ±‚</p>
<p><code>abort()</code>æ–¹æ³•ï¼Œåœæ­¢å½“å‰è¯·æ±‚</p>
<p><strong>ç†Ÿæ‚‰</strong></p>
<p><code>readyState</code>å±æ€§ï¼šè¯·æ±‚çš„çŠ¶æ€ï¼Œæœ‰5ä¸ªå¯å–å€¼</p>
<ul>
<li>0=æœªåˆå§‹åŒ–</li>
<li>1=æ­£åœ¨åŠ è½½</li>
<li>2=ä»¥åŠ è½½</li>
<li>3=äº¤äº’ä¸­</li>
<li>4=å®Œæˆ</li>
</ul>
<p><code>responseText</code>å±æ€§ï¼šæœåŠ¡å™¨çš„å“åº”ï¼Œè¡¨ç¤ºä¸ºä¸€ä¸ªä¸²</p>
<p><code>reponseXML</code> å±æ€§ï¼šæœåŠ¡å™¨çš„å“åº”ï¼Œè¡¨ç¤ºä¸ºXML</p>
<p><code>status</code>å±æ€§ï¼šæœåŠ¡å™¨çš„HTTPçŠ¶æ€ç ï¼Œ200å¯¹åº”okï¼Œ400å¯¹åº”error</p>
<h2 id="Case11-AJAXæœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Ÿ"><a href="#Case11-AJAXæœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Ÿ" class="headerlink" title="Case11.AJAXæœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Ÿ"></a>Case11.AJAXæœ‰å“ªäº›ä¼˜ç‚¹å’Œç¼ºç‚¹ï¼Ÿ</h2><p><strong>ä¼˜ç‚¹</strong></p>
<ol>
<li>æœ€å¤§çš„ä¸€ç‚¹æ˜¯é¡µé¢æ— åˆ·æ–°ï¼Œç”¨æˆ·çš„ä½“éªŒéå¸¸å¥½ã€‚</li>
<li>ä½¿ç”¨å¼‚æ­¥æ–¹å¼ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œå…·æœ‰æ›´åŠ è¿…é€Ÿçš„å“åº”èƒ½åŠ›ã€‚</li>
<li>å¯ä»¥æŠŠä»¥å‰ä¸€äº›æœåŠ¡å™¨è´Ÿæ‹…çš„å·¥ä½œè½¬å«åˆ°å®¢æˆ·ç«¯ï¼Œåˆ©ç”¨å®¢æˆ·ç«¯é—²ç½®çš„èƒ½åŠ›æ¥å¤„ç†ï¼Œå‡è½»æœåŠ¡å™¨å’Œå¸¦å®½çš„è´Ÿæ‹…ï¼ŒèŠ‚çº¦ç©ºé—´å’Œå®½å¸¦ç§Ÿç”¨æˆæœ¬ã€‚å¹¶ä¸”å‡è½»æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼Œajaxçš„åŸåˆ™æ˜¯â€œæŒ‰éœ€å–æ•°æ®â€ï¼Œå¯ä»¥æœ€å¤§ç¨‹åº¦çš„å‡å°‘å†—ä½™è¯·æ±‚ï¼Œå’Œå“åº”å¯¹æœåŠ¡å™¨é€ æˆçš„è´Ÿæ‹…ã€‚</li>
<li>åŸºäºæ ‡å‡†åŒ–çš„å¹¶è¢«å¹¿æ³›æ”¯æŒçš„æŠ€æœ¯ï¼Œä¸éœ€è¦ä¸‹è½½æ’ä»¶æˆ–è€…å°ç¨‹åºã€‚</li>
</ol>
<p><strong>ç¼ºç‚¹</strong></p>
<ol>
<li>ajaxä¸æ”¯æŒæµè§ˆå™¨backæŒ‰é’®ã€‚</li>
<li>å®‰å…¨é—®é¢˜ AJAXæš´éœ²äº†ä¸æœåŠ¡å™¨äº¤äº’çš„ç»†èŠ‚ã€‚</li>
<li>å¯¹æœç´¢å¼•æ“çš„æ”¯æŒæ¯”è¾ƒå¼±ã€‚</li>
<li>ç ´åäº†ç¨‹åºçš„å¼‚å¸¸æœºåˆ¶ã€‚</li>
<li>ä¸å®¹æ˜“è°ƒè¯•ã€‚</li>
</ol>
<h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><ul>
<li><a href="https://segmentfault.com/a/1190000008697448" target="_blank" rel="external">AjaxçŸ¥è¯†ä½“ç³»å¤§æ¢³ç†</a></li>
<li><a href="http://blog.csdn.net/chow__zh/article/details/9149811" target="_blank" rel="external">ç»å…¸çš„20é“AJAXé¢è¯•é¢˜</a></li>
</ul>

            
                <blockquote>
                    <p>
                         
                            æœ¬æ–‡é‡‡ç”¨ <a rel='nofollow noopener' href='https://creativecommons.org/licenses/by-nc-sa/3.0/deed.zh' target='_blank'>CC BY-NC-SA 3.0 Unported</a> åè®®è¿›è¡Œè®¸å¯ï¼Œé˜…è¯» <a href='/creativecommons.html' target='_blank'>ç›¸å…³è¯´æ˜</a>
                        
                        <br>
                        æœ¬æ–‡é“¾æ¥ï¼š http://janebt.github.io/2017/11/30/web/Ajax/
                    </p>
                </blockquote>
            
        </div>
    
</div>


                
                    <!-- Paradox Post Info -->
                    
                

                <!-- Post Comments -->
                
                    
    <!-- ä½¿ç”¨ DISQUS -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://janebt.github.io/2017/11/30/web/Ajax/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://janebt.github.io/2017/11/30/web/Ajax/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>
<script type="text/ls-javascript" id="disqus-thread-script">
    queue.offer(function() {
            (function() { // DON'T EDIT BELOW THIS LINE
                var d = document;
                var s = d.createElement('script');
                s.src = '//https-janebt-github-io.disqus.com/embed.js';
                s.setAttribute('data-timestamp', + new Date());
                (d.head || d.body).appendChild(s);
            })();
        });
</script>

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/11/30/web/json/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            æ–°ç¯‡
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/11/29/web/å†…å­˜æ³„æ¼/" id="post_nav-older" class="next-content">
            æ—§ç¯‡
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>









   <!-- ä½¿ç”¨ DISQUS js ä»£ç  -->
<script id="dsq-count-scr" src="//https-janebt-github-io.disqus.com/count.js" async></script>





<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('ç”±äº UC æµè§ˆå™¨ä½¿ç”¨ææ—§çš„å†…æ ¸ï¼Œè€Œæœ¬ç½‘ç«™ä½¿ç”¨äº†ä¸€äº›æ–°çš„ç‰¹æ€§ã€‚\nä¸ºäº†æ‚¨èƒ½æ›´å¥½çš„æµè§ˆï¼Œæ¨èä½¿ç”¨ Chrome æˆ– Firefox æµè§ˆå™¨ã€‚');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->


<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c Â© Material Theme | Version: 1.5.0 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
